(()=>{"use strict";function t(t){return"string"==typeof t||t instanceof String}const e={buttons:".filter-buttons",container:".filter-container",paginations:".filter-arrows"},a=a=>{const n={...e,...a};for(const e in n)n[e]=t(n[e])?document.querySelector(n[e]):n[e];return n};function n(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"posts";if(!(e=t(e)?document.querySelector(e):e))return;const{rest_url:s,nonce:o,filterQuery:l}=i,{buttons:c,container:d,paginations:u}=a(n),g=async function(t,e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST";const n=await fetch(`${s}/${t}`,{method:a,body:JSON.stringify(e),headers:{"Content-Type":"application/json","X-WP-Nonce":o}});return await n.json()},f=t=>{const e=u.querySelector('[data-filter-paged="-"]');u.querySelector('[data-filter-paged="+"]').disabled=(null==t?void 0:t.current_page)===(null==t?void 0:t.max_num_pages),e.disabled=1===(null==t?void 0:t.current_page)||(null==t?void 0:t.found_posts)<=l.posts_per_page};c&&c.addEventListener("click",(async t=>{const e=t.target.closest("[data-filter-tag]");if(!e)return;d.classList.add("is-loading"),l.paged=1;const a=e.dataset.filterTag;c.querySelectorAll("[data-filter-tag]").forEach((t=>t.classList.remove("is-active"))),a===l.tag_id?delete l.tag_id:(l.tag_id=a,e.classList.add("is-active"));const n=await g(r,l);f(n),d.innerHTML=n.data,d.classList.remove("is-loading")})),u.addEventListener("click",(async t=>{const e=t.target.closest("[data-filter-paged]");if(!e)return;d.classList.add("is-loading");const a="+"===e.dataset.filterPaged?l.paged+1:l.paged-1,n=await g(r,{...l,paged:a});l.paged=n.current_page,f(n),d.innerHTML=n.data,d.classList.remove("is-loading")}))}document.addEventListener("DOMContentLoaded",(()=>{const t={nonce:window.altumMainParams.nonce,rest_url:window.altumMainParams.rest_url},e={...t,filterQuery:window.altumMainParams.filterQuery},a={...t,filterQuery:window.altumMainParams.booksQuery};document.querySelectorAll(".articles").forEach((t=>{n(t,{buttons:".articles-filter",container:".articles-main",paginations:".articles-arrows"},e,"posts")})),document.querySelectorAll(".books").forEach((t=>{n(t,{buttons:".articles-filter",container:".books-reviews",paginations:".articles-arrows"},a,"books")}))}))})();